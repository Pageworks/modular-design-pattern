(window.webpackJsonp=window.webpackJsonp||[]).push([[6],[,,,,function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var parse_options_1=__webpack_require__(5),trigger_1=__webpack_require__(6),parse_dom_1=__webpack_require__(7),scroll_1=__webpack_require__(12),clear_active_1=__webpack_require__(13),state_manager_1=__webpack_require__(14),device_manager_1=__webpack_require__(16),Pjax=function(){function Pjax(options){var _this=this;if(this.handleManualLoad=function(e){var uri=e.detail.uri;_this.options.debug&&console.log("%c[Pjax] %cmanually loading "+uri,"color:#f3ff35","color:#eee"),_this.doRequest(uri)},this.handlePopstate=function(e){e.state&&(_this.options.debug&&console.log("%c[Pjax] %chijacking popstate event","color:#f3ff35","color:#eee"),_this._scrollTo=e.state.scrollPos,_this.loadUrl(e.state.uri,"popstate"))},this.handleContinue=function(e){null!==_this._cachedSwitch?(_this.options.titleSwitch&&(document.title=_this._cachedSwitch.title),_this.handleSwitches(_this._cachedSwitch.queue)):(_this.options.debug&&console.log("%c[Pjax] %cswitch queue was empty. You might be sending pjax:continue early","color:#f3ff35","color:#eee"),trigger_1.default(document,["pjax:error"]))},this._dom=document.documentElement,device_manager_1.default.isIE)return console.log("%c[Pjax] %cIE 11 detected - Pjax aborted","color:#f3ff35","color:#eee"),this._dom.classList.remove("dom-is-loading"),void this._dom.classList.add("dom-is-loaded");this._cache=null,this.options=parse_options_1.default(options),this._request=null,this._response=null,this._confirmed=!1,this._cachedSwitch=null,this._scrollTo={x:0,y:0},this._isPushstate=!0,this._scriptsToAppend=[],this.init()}return Pjax.prototype.init=function(){this.options.debug&&(console.group(),console.log("%c[Pjax] %cinitializing Pjax version "+Pjax.VERSION,"color:#f3ff35","color:#eee"),console.log("%c[Pjax] %cview Pjax documentation at http://papertrain.io/pjax","color:#f3ff35","color:#eee"),console.log("%c[Pjax] %cloaded with the following options: ","color:#f3ff35","color:#eee"),console.log(this.options),console.groupEnd()),this._dom.classList.add("dom-is-loaded"),this._dom.classList.remove("dom-is-loading"),new state_manager_1.default(this.options.debug,!0),window.addEventListener("popstate",this.handlePopstate),this.options.customTransitions&&document.addEventListener("pjax:continue",this.handleContinue),document.addEventListener("pjax:load",this.handleManualLoad),parse_dom_1.default(document.body,this)},Pjax.prototype.loadUrl=function(href,loadType){this._confirmed||(this.abortRequest(),this._cache=null,this.handleLoad(href,loadType))},Pjax.prototype.abortRequest=function(){this._request=null,this._response=null},Pjax.prototype.finalize=function(){this.options.debug&&console.log("%c[Pjax] %cpage transition completed","color:#f3ff35","color:#eee"),scroll_1.default(this._scrollTo),this.options.history&&(this._isPushstate?state_manager_1.default.doPush(this._response.url,document.title):state_manager_1.default.doReplace(this._response.url,document.title)),trigger_1.default(document,["pjax:complete"]),this._scriptsToAppend.length||this.options.debug&&(console.log("%c[Pjax] %cNo new scripts to load","color:#f3ff35","color:#eee"),trigger_1.default(document,["pjax:scriptContentLoaded"])),this._dom.classList.add("dom-is-loaded"),this._dom.classList.remove("dom-is-loading"),this._cache=null,this._request=null,this._response=null,this._cachedSwitch=null,this._isPushstate=!0,this._scrollTo={x:0,y:0},this._confirmed=!1},Pjax.prototype.handleSwitches=function(switchQueue){for(var i=0;i<switchQueue.length;i++)switchQueue[i].current.innerHTML=switchQueue[i].new.innerHTML,parse_dom_1.default(switchQueue[i].current,this);this.finalize()},Pjax.prototype.switchSelectors=function(selectors,tempDocument){var _this=this;if(null===tempDocument)return this.options.debug&&console.log("%c[Pjax] %ctemporary document was null, telling the browser to load "+(null!==this._cache?this._cache.url:this._response.url),"color:#f3ff35","color:#eee"),void(null!==this._cache?this.lastChance(this._cache.url):this.lastChance(this._response.url));if(!this.options.importScripts){var newScripts=Array.from(tempDocument.querySelectorAll("script"));if(newScripts.length){var currentScripts_1=Array.from(document.querySelectorAll("script"));newScripts.forEach(function(newScript){var isNewScript=!0;currentScripts_1.forEach(function(currentScript){newScript.src===currentScript.src&&(isNewScript=!1)}),isNewScript&&(_this.options.debug&&console.log("%c[Pjax] %cthe new page contains scripts","color:#f3ff35","color:#eee"),_this.lastChance(_this._response.url))})}}if(!this.options.importCSS){var newStylesheets=Array.from(tempDocument.querySelectorAll('link[rel="stylesheet"]'));if(newStylesheets.length){var currentStylesheets_1=Array.from(document.querySelectorAll('link[rel="stylesheet"]'));newStylesheets.forEach(function(newStylesheet){var isNewSheet=!0;currentStylesheets_1.forEach(function(currentStylesheet){newStylesheet.getAttribute("href")===currentStylesheet.getAttribute("href")&&(isNewSheet=!1)}),isNewSheet&&(_this.options.debug&&console.log("%c[Pjax] %cthe new page contains new stylesheets","color:#f3ff35","color:#eee"),_this.lastChance(_this._response.url))})}}for(var switchQueue=[],i=0;i<selectors.length;i++){var newContainers=Array.from(tempDocument.querySelectorAll(selectors[i])),currentContainers=Array.from(document.querySelectorAll(selectors[i]));if(this.options.debug&&console.log("%c[Pjax] %cswapping content from "+selectors[i],"color:#f3ff35","color:#eee"),newContainers.length!==currentContainers.length)return this.options.debug&&console.log("%c[Pjax] %cthe dom doesn't look the same","color:#f3ff35","color:#eee"),void this.lastChance(this._response.url);for(var k=0;k<newContainers.length;k++){var switchObject={new:newContainers[k],current:currentContainers[k]};switchQueue.push(switchObject)}}if(0===switchQueue.length)return this.options.debug&&console.log("%c[Pjax] %ccouldn't find anything to switch","color:#f3ff35","color:#eee"),void this.lastChance(this._response.url);this.options.customTransitions?this._cachedSwitch={queue:switchQueue,title:tempDocument.title}:(this.options.titleSwitch&&(document.title=tempDocument.title),this.handleSwitches(switchQueue))},Pjax.prototype.lastChance=function(uri){this.options.debug&&console.log("%c[Pjax] %csomething caused Pjax to break, native loading "+uri,"color:#f3ff35","color:#eee"),window.location.href=uri},Pjax.prototype.statusCheck=function(){for(var status_1=200;status_1<=206;status_1++)if(this._cache.status===status_1)return!0;return!1},Pjax.prototype.loadCachedContent=function(){this.statusCheck()?(clear_active_1.default(),state_manager_1.default.doReplace(window.location.href,document.title),this.options.importScripts&&this.handleScripts(this._cache.document),this.options.importCSS&&this.handleCSS(this._cache.document),this.switchSelectors(this.options.selectors,this._cache.document)):this.lastChance(this._cache.url)},Pjax.prototype.parseContent=function(responseText){var tempDocument=document.implementation.createHTMLDocument("pjax-temp-document");return null!==this._response.headers.get("Content-Type").match(/text\/html/gi)?(tempDocument.documentElement.innerHTML=responseText,tempDocument):null},Pjax.prototype.cacheContent=function(responseText,responseStatus,uri){var tempDocument=this.parseContent(responseText);this._cache={status:responseStatus,document:tempDocument,url:uri},tempDocument instanceof HTMLDocument?this.options.debug&&console.log("%c[Pjax] %ccaching content","color:#f3ff35","color:#eee"):(this.options.debug&&console.log("%c[Pjax] %cresponse wan't an HTML document","color:#f3ff35","color:#eee"),trigger_1.default(document,["pjax:error"]))},Pjax.prototype.loadContent=function(responseText){var tempDocument=this.parseContent(responseText);if(!(tempDocument instanceof HTMLDocument))return this.options.debug&&console.log("%c[Pjax] %cresponse wasn't an HTML document","color:#f3ff35","color:#eee"),trigger_1.default(document,["pjax:error"]),void this.lastChance(this._response.url);clear_active_1.default(),state_manager_1.default.doReplace(window.location.href,document.title),this.options.importScripts&&this.handleScripts(tempDocument),this.options.importCSS&&this.handleCSS(tempDocument),this.switchSelectors(this.options.selectors,tempDocument)},Pjax.prototype.handleScripts=function(newDocument){var _this=this;if(newDocument instanceof HTMLDocument){var newScripts=Array.from(newDocument.querySelectorAll("script")),currentScripts_2=Array.from(document.querySelectorAll("script"));newScripts.forEach(function(newScript){var appendScript=!0,newScriptFilename=null!==newScript.getAttribute("src")?newScript.getAttribute("src").match(/[^\/]+$/g)[0]:"custom-script";currentScripts_2.forEach(function(currentScript){var currentScriptFilename=null!==currentScript.getAttribute("src")?currentScript.getAttribute("src").match(/[^\/]+$/g)[0]:"custom-script";newScriptFilename===currentScriptFilename&&(appendScript=!1)}),appendScript&&_this._scriptsToAppend.push(newScript)}),this._scriptsToAppend.length&&this._scriptsToAppend.forEach(function(script){if(""===script.src){var newScript=document.createElement("script");newScript.setAttribute("src",_this._response.url),newScript.innerHTML=script.innerHTML,document.body.appendChild(newScript),_this.checkForScriptLoadComplete(script)}else __awaiter(_this,void 0,void 0,function(){var responseText,newScript;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(script.src)];case 1:return[4,_a.sent().text()];case 2:return responseText=_a.sent(),(newScript=document.createElement("script")).setAttribute("src",script.src),newScript.innerHTML=responseText,document.body.appendChild(newScript),this.checkForScriptLoadComplete(script),[2]}})})})}},Pjax.prototype.checkForScriptLoadComplete=function(script){if(void 0===script&&(script=null),this._scriptsToAppend.length){if(null===script)return void(this.options.debug&&console.error("%c[Pjax] %cScript element provided to be spliced was null","color:#f3ff35","color:#eee"));var scriptIndex=this._scriptsToAppend.indexOf(script);this._scriptsToAppend.splice(scriptIndex,1),this._scriptsToAppend.length||(this.options.debug&&console.log("%c[Pjax] %cAll scripts have been loaded","color:#f3ff35","color:#eee"),trigger_1.default(document,["pjax:scriptContentLoaded"]))}},Pjax.prototype.handleCSS=function(newDocument){var _this=this;if(newDocument instanceof HTMLDocument){var newStyles=Array.from(newDocument.querySelectorAll('link[rel="stylesheet"]')),currentStyles_1=Array.from(document.querySelectorAll('link[rel="stylesheet"], style[href]')),stylesToAppend_1=[];newStyles.forEach(function(newStyle){var appendStyle=!0,newStyleFile=newStyle.getAttribute("href").match(/[^\/]+$/g)[0];currentStyles_1.forEach(function(currentStyle){var currentStyleFile=currentStyle.getAttribute("href").match(/[^\/]+$/g)[0];newStyleFile===currentStyleFile&&(appendStyle=!1)}),appendStyle&&stylesToAppend_1.push(newStyle)}),stylesToAppend_1.length&&stylesToAppend_1.forEach(function(style){__awaiter(_this,void 0,void 0,function(){var responseText,newStyle;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(style.href)];case 1:return[4,_a.sent().text()];case 2:return responseText=_a.sent(),(newStyle=document.createElement("style")).setAttribute("rel","stylesheet"),newStyle.setAttribute("href",style.href),newStyle.innerHTML=responseText,document.head.appendChild(newStyle),[2]}})})})}},Pjax.prototype.handleResponse=function(response){var _this=this;this.options.debug&&console.log("%c[Pjax] %cRequest status: "+response.status,"color:#f3ff35","color:#eee"),response.ok?(this._response=response,response.text().then(function(responseText){switch(_this._request){case"prefetch":_this._confirmed?_this.loadContent(responseText):_this.cacheContent(responseText,_this._response.status,_this._response.url);break;case"popstate":case"reload":_this._isPushstate=!1,_this.loadContent(responseText);break;default:_this.loadContent(responseText)}})):trigger_1.default(document,["pjax:error"])},Pjax.prototype.doRequest=function(href){var _this=this,uri=href,queryString=href.split("?")[1];this.options.cacheBust&&(uri+=void 0===queryString?"?cb="+Date.now():"&cb="+Date.now()),fetch(uri).then(function(response){_this.handleResponse(response)}).catch(function(error){_this.options.debug&&(console.group(),console.error("%c[Pjax] %cFetch error:","color:#f3ff35","color:#eee"),console.error(error),console.groupEnd())})},Pjax.prototype.handlePrefetch=function(href){this._confirmed||(this.options.debug&&console.log("%c[Pjax] %cprefetching "+href,"color:#f3ff35","color:#eee"),this.abortRequest(),trigger_1.default(document,["pjax:prefetch"]),this._request="prefetch",this.doRequest(href))},Pjax.prototype.handleLoad=function(href,loadType,el){void 0===el&&(el=null),this._confirmed||(trigger_1.default(document,["pjax:send"],el),this._dom.classList.remove("dom-is-loaded"),this._dom.classList.add("dom-is-loading"),this._confirmed=!0,null!==this._cache?(this.options.debug&&console.log("%c[Pjax] %cloading cached content from "+href,"color:#f3ff35","color:#eee"),this.loadCachedContent()):"prefetch"!==this._request&&(this.options.debug&&console.log("%c[Pjax] %cloading "+href,"color:#f3ff35","color:#eee"),this._request=loadType,this.doRequest(href)))},Pjax.prototype.clearPrefetch=function(){this._confirmed||(this._cache=null,this.abortRequest(),trigger_1.default(document,["pjax:cancel"]))},Pjax.load=function(url){var customEvent=new CustomEvent("pjax:load",{detail:{uri:url}});document.dispatchEvent(customEvent)},Pjax.VERSION="2.1.0",Pjax}();exports.default=Pjax},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(options){void 0===options&&(options=null);var parsedOptions=null!==options?options:{};return parsedOptions.elements=null!==options&&void 0!==options.elements?options.elements:"a[href]",parsedOptions.selectors=null!==options&&void 0!==options.selectors?options.selectors:[".js-pjax"],parsedOptions.history=null===options||void 0===options.history||options.history,parsedOptions.cacheBust=null!==options&&void 0!==options.cacheBust&&options.cacheBust,parsedOptions.debug=null!==options&&void 0!==options.debug&&options.debug,parsedOptions.titleSwitch=null===options||void 0===options.titleSwitch||options.titleSwitch,parsedOptions.customTransitions=null!==options&&void 0!==options.customTransitions&&options.customTransitions,parsedOptions.customPreventionAttributes=null!==options&&void 0!==options.customPreventionAttributes?options.customPreventionAttributes:[],parsedOptions.importScripts=null===options||void 0===options.importScripts||options.importScripts,parsedOptions.importCSS=null===options||void 0===options.importCSS||options.importCSS,parsedOptions}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(el,events,target){void 0===target&&(target=null),events.forEach(function(e){if(null!==target){var customEvent=new CustomEvent(e,{detail:{el:target}});el.dispatchEvent(customEvent)}else{var event_1=new Event(e);el.dispatchEvent(event_1)}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var get_elements_1=__webpack_require__(8),check_element_1=__webpack_require__(9);exports.default=function(el,pjax){var elements=get_elements_1.default(el,pjax);if(pjax.options.debug&&0===elements.length)console.log("%c[Pjax] %cno elements could be found, check what selectors you're providing Pjax","color:#f3ff35","color:#eee");else for(var i=0;i<elements.length;i++)check_element_1.default(elements[i],pjax)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(el,pjax){return Array.from(el.querySelectorAll(pjax.options.elements))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var link_events_1=__webpack_require__(10);exports.default=function(el,pjax){el.getAttribute("href")?link_events_1.default(el,pjax):pjax.options.debug&&console.log("%c[Pjax] %c"+el+" is missing a href attribute, Pjax couldn't assign the event listener","color:#f3ff35","color:#eee")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var on_1=__webpack_require__(11),attrState="data-pjax-state",isDefaultPrevented=function(el,e,options){var isPrevented=!1;if(e.defaultPrevented?isPrevented=!0:null!==el.getAttribute("prevent-pjax")?isPrevented=!0:el.classList.contains("no-transition")?isPrevented=!0:null!==el.getAttribute("download")?isPrevented=!0:"_blank"===el.getAttribute("target")&&(isPrevented=!0),options.length>0)for(var i=0;i<options.length;i++)null!==el.getAttribute(options[i])&&(isPrevented=!0);return isPrevented},checkForAbort=function(el,e){if(el instanceof HTMLAnchorElement){if(el.protocol!==window.location.protocol||el.host!==window.location.host)return"external";if(el.hash&&el.href.replace(el.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(el.href===window.location.href.split("#")[0]+", '#'")return"anchor-empty"}return null},handleClick=function(el,e,pjax){if(!isDefaultPrevented(el,e,pjax.options.customPreventionAttributes)){var attrValue=checkForAbort(el);if(null===attrValue){e.preventDefault();var elementLink=el.getAttribute("href");elementLink===window.location.href.split("#")[0]?el.setAttribute(attrState,"reload"):el.setAttribute(attrState,"load"),pjax.handleLoad(elementLink,el.getAttribute(attrState),el)}else el.setAttribute(attrState,attrValue)}},handleHover=function(el,e,pjax){if(!isDefaultPrevented(el,e,pjax.options.customPreventionAttributes))if("mouseleave"!==e.type){var attrValue=checkForAbort(el);if(null===attrValue){var elementLink=el.getAttribute("href");elementLink!==window.location.href.split("#")[0]&&(el.setAttribute(attrState,"prefetch"),pjax.handlePrefetch(elementLink))}else el.setAttribute(attrState,attrValue)}else pjax.clearPrefetch()};exports.default=function(el,pjax){el.setAttribute(attrState,""),on_1.default(el,"click",function(e){handleClick(el,e,pjax)}),on_1.default(el,"mouseenter",function(e){handleHover(el,e,pjax)}),on_1.default(el,"mouseleave",function(e){handleHover(el,e,pjax)}),on_1.default(el,"keyup",function(e){"enter"!==e.key&&13!==e.keyCode||handleClick(el,e,pjax)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(el,event,listener){el.addEventListener(event,listener)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(scrollTo){window.scrollTo(scrollTo.x,scrollTo.y)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){if(document.activeElement)try{document.activeElement.blur()}catch(e){console.log(e)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var timestamp_1=__webpack_require__(15),StateManager=function(){function StateManager(debug,initialpushState){this._doInitialPushState=initialpushState||!1,StateManager._isDebug=debug||!1,this._doInitialPushState&&StateManager.doReplace(window.location.href)}return StateManager.handleReplaceState=function(stateObject){StateManager._isDebug&&console.log("Replacing History State: ",stateObject),window.history.replaceState(stateObject,stateObject.title,stateObject.uri)},StateManager.handlePushState=function(stateObject){StateManager._isDebug&&console.log("Pushing History State: ",stateObject),window.history.pushState(stateObject,stateObject.title,stateObject.uri)},StateManager.buildStateObject=function(pageURI,isPushstate,pageTitle,scrollOffset){var stateObject={uri:pageURI,timestamp:timestamp_1.default(),history:isPushstate,scrollPos:{x:window.scrollX+scrollOffset.x,y:window.scrollY+scrollOffset.y}};stateObject.title=null!=pageTitle?pageTitle:document.title,isPushstate?StateManager.handlePushState(stateObject):StateManager.handleReplaceState(stateObject)},StateManager.doPush=function(uri,title,scrollOffset){void 0===title&&(title=document.title),void 0===scrollOffset&&(scrollOffset={x:0,y:0}),StateManager.buildStateObject(uri,!0,title,scrollOffset)},StateManager.doReplace=function(uri,title,scrollOffset){void 0===title&&(title=document.title),void 0===scrollOffset&&(scrollOffset={x:0,y:0}),StateManager.buildStateObject(uri,!1,title,scrollOffset)},StateManager}();exports.default=StateManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return Date.now()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DeviceManager=function(){function DeviceManager(debug,setStatusClasses){var _this=this;this.userTouchedElement=function(e){e.currentTarget.classList.add("is-touching")},this.userReleasedTouchedElement=function(e){e.currentTarget.classList.remove("is-touching")},this.handleConnectionChange=function(e){_this._navigator=window.navigator,DeviceManager.connection=_this._navigator.connection||_this._navigator.mozConnection||_this._navigator.webkitConnection},this.handleMouseEvent=function(e){_this._body.removeEventListener("mouseover",_this.handleMouseEvent),_this._html.classList.add("is-pointer-device"),_this._html.classList.remove("is-not-pointer-device"),_this._isDebug&&console.log("%c[Device Manager] %cUser is using a pointer device","color:#35ffb8","color:#eee")},this.handleTouchEvent=function(e){_this._body.removeEventListener("touchstart",_this.handleTouchEvent),_this._html.classList.add("has-touched"),_this._isDebug&&console.log("%c[Device Manager] %cUser has touched their device","color:#35ffb8","color:#eee")},this._isDebug=debug||!1,this._html=document.documentElement,this._body=document.body,this._navigator=window.navigator,DeviceManager.connection=this._navigator.connection||this._navigator.mozConnection||this._navigator.webkitConnection,DeviceManager.connection.addEventListener("change",this.handleConnectionChange),setStatusClasses&&this.setStatusClasses(),this._trackedElements=[],this.getTouchElements()}var isChrome,isEdge,isIE,isFirefox,isSafari,isOpera,isBlink,isTouchSupported;return DeviceManager.prototype.reinit=function(){this.purgeTouchElements(),this.getTouchElements()},DeviceManager.prototype.getTouchElements=function(){var _this=this;DeviceManager.supportsTouch&&Array.from(document.body.querySelectorAll('.js-touch:not([data-touch-tracked="true"])')).forEach(function(el){el.setAttribute("data-touch-tracked","true"),el.addEventListener("touchstart",_this.userTouchedElement),el.addEventListener("touchend",_this.userReleasedTouchedElement),el.addEventListener("touchleave",_this.userReleasedTouchedElement),el.addEventListener("touchcancel",_this.userReleasedTouchedElement),_this._trackedElements.push(el)})},DeviceManager.prototype.purgeTouchElements=function(){if(DeviceManager.supportsTouch&&0!==this._trackedElements.length){for(var currentElements=Array.from(document.body.querySelectorAll(".js-touch")),deadElements=[],i=0;i<this._trackedElements.length;i++){for(var survived=!1,k=0;k<currentElements.length;k++)this._trackedElements[i]===currentElements[k]&&(survived=!0);survived||deadElements.push(this._trackedElements[i])}if(0!==deadElements.length)for(k=0;k<deadElements.length;k++)for(i=0;i<this._trackedElements.length;i++)if(this._trackedElements[i]===deadElements[i]){deadElements[i].removeEventListener("touchstart",this.userTouchedElement),deadElements[i].removeEventListener("touchend",this.userReleasedTouchedElement),deadElements[i].removeEventListener("touchleave",this.userReleasedTouchedElement),deadElements[i].removeEventListener("touchcancel",this.userReleasedTouchedElement);var index=this._trackedElements.indexOf(this._trackedElements[i]);this._trackedElements.splice(index,1)}}},DeviceManager.prototype.setStatusClasses=function(){this._html.classList.add("has-js"),this._html.classList.remove("has-no-js"),this._isDebug&&console.log("%c[Device Manager] %cSetting status classes","color:#35ffb8","color:#eee"),this._body.addEventListener("mouseover",this.handleMouseEvent),this._body.addEventListener("touchstart",this.handleTouchEvent),DeviceManager.supportsTouch&&(this._html.classList.add("is-touch-device"),this._html.classList.remove("is-not-touch-device"),this._isDebug&&console.log("%c[Device Manager] %cSupports Touch: %c"+DeviceManager.supportsTouch,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isBlinkEngine&&(this._html.classList.add("is-blink"),this._isDebug&&console.log("%c[Device Manager] %cUsing Blink Engine: %c"+DeviceManager.isBlinkEngine,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isChrome&&(this._html.classList.add("is-chrome"),this._isDebug&&console.log("%c[Device Manager] %cChrome: %c"+DeviceManager.isChrome,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isIE&&(this._html.classList.add("is-ie"),this._isDebug&&console.log("%c[Device Manager] %cInternet Explorer: %c"+DeviceManager.isIE,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isEdge&&(this._html.classList.add("is-edge"),this._isDebug&&console.log("%c[Device Manager] %cEdge: %c"+DeviceManager.isEdge,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isFirefox&&(this._html.classList.add("is-firefox"),this._isDebug&&console.log("%c[Device Manager] %cFirefox: %c"+DeviceManager.isFirefox,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isSafari&&(this._html.classList.add("is-safari"),this._isDebug&&console.log("%c[Device Manager] %cSafari: %c"+DeviceManager.isSafari,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isOpera&&(this._html.classList.add("is-opera"),this._isDebug&&console.log("%c[Device Manager] %cOpera: %c"+DeviceManager.isOpera,"color:#35ffb8","color:#eee","color:#68e5ff")),void 0!==DeviceManager.connection&&(this._html.classList.add("is-"+DeviceManager.connection.effectiveType),this._isDebug&&console.log("%c[Device Manager] %cConnection Type: %c"+DeviceManager.connection.effectiveType,"color:#35ffb8","color:#eee","color:#68e5ff"))},DeviceManager.connection=void 0,DeviceManager.isChrome=(isChrome=!1,window.chrome&&void 0===window.StyleMedia&&(isChrome=!0),isChrome),DeviceManager.isEdge=(isEdge=!1,window.StyleMedia&&window.chrome&&(isEdge=!0),isEdge),DeviceManager.isIE=(isIE=!1,window.MSInputMethodContext&&document.documentMode&&void 0===window.chrome&&(isIE=!0),isIE),DeviceManager.isFirefox=(isFirefox=!1,"undefined"!=typeof InstallTrigger&&(isFirefox=!0),isFirefox),DeviceManager.isSafari=(isSafari=!1,(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString())&&(isSafari=!0),isSafari),DeviceManager.isOpera=(isOpera=!1,(window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0)&&(isOpera=!0),isOpera),DeviceManager.isBlinkEngine=(isBlink=!1,(DeviceManager.isChrome||DeviceManager.isOpera)&&window.CSS&&(isBlink=!0),isBlink),DeviceManager.supportsTouch=(isTouchSupported=!1,("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(isTouchSupported=!0),isTouchSupported),DeviceManager}();exports.default=DeviceManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DeviceManager=function(){function DeviceManager(debug,setStatusClasses){var _this=this;this.userTouchedElement=function(e){e.currentTarget.classList.add("is-touching")},this.userReleasedTouchedElement=function(e){e.currentTarget.classList.remove("is-touching")},this.handleConnectionChange=function(e){_this._navigator=window.navigator,DeviceManager.connection=_this._navigator.connection||_this._navigator.mozConnection||_this._navigator.webkitConnection},this.handleMouseEvent=function(e){_this._body.removeEventListener("mouseover",_this.handleMouseEvent),_this._html.classList.add("is-pointer-device"),_this._html.classList.remove("is-not-pointer-device"),_this._isDebug&&console.log("%c[Device Manager] %cUser is using a pointer device","color:#35ffb8","color:#eee")},this.handleTouchEvent=function(e){_this._body.removeEventListener("touchstart",_this.handleTouchEvent),_this._html.classList.add("has-touched"),_this._isDebug&&console.log("%c[Device Manager] %cUser has touched their device","color:#35ffb8","color:#eee")},this._isDebug=debug||!1,this._html=document.documentElement,this._body=document.body,this._navigator=window.navigator,DeviceManager.connection=this._navigator.connection||this._navigator.mozConnection||this._navigator.webkitConnection,DeviceManager.connection.addEventListener("change",this.handleConnectionChange),setStatusClasses&&this.setStatusClasses(),this._trackedElements=[],this.getTouchElements()}var isChrome,isEdge,isIE,isFirefox,isSafari,isOpera,isBlink,isTouchSupported;return DeviceManager.prototype.reinit=function(){this.purgeTouchElements(),this.getTouchElements()},DeviceManager.prototype.getTouchElements=function(){var _this=this;DeviceManager.supportsTouch&&Array.from(document.body.querySelectorAll('.js-touch:not([data-touch-tracked="true"])')).forEach(function(el){el.setAttribute("data-touch-tracked","true"),el.addEventListener("touchstart",_this.userTouchedElement),el.addEventListener("touchend",_this.userReleasedTouchedElement),el.addEventListener("touchleave",_this.userReleasedTouchedElement),el.addEventListener("touchcancel",_this.userReleasedTouchedElement),_this._trackedElements.push(el)})},DeviceManager.prototype.purgeTouchElements=function(){if(DeviceManager.supportsTouch&&0!==this._trackedElements.length){for(var currentElements=Array.from(document.body.querySelectorAll(".js-touch")),deadElements=[],i=0;i<this._trackedElements.length;i++){for(var survived=!1,k=0;k<currentElements.length;k++)this._trackedElements[i]===currentElements[k]&&(survived=!0);survived||deadElements.push(this._trackedElements[i])}if(0!==deadElements.length)for(k=0;k<deadElements.length;k++)for(i=0;i<this._trackedElements.length;i++)if(this._trackedElements[i]===deadElements[i]){deadElements[i].removeEventListener("touchstart",this.userTouchedElement),deadElements[i].removeEventListener("touchend",this.userReleasedTouchedElement),deadElements[i].removeEventListener("touchleave",this.userReleasedTouchedElement),deadElements[i].removeEventListener("touchcancel",this.userReleasedTouchedElement);var index=this._trackedElements.indexOf(this._trackedElements[i]);this._trackedElements.splice(index,1)}}},DeviceManager.prototype.setStatusClasses=function(){this._html.classList.add("has-js"),this._html.classList.remove("has-no-js"),this._isDebug&&console.log("%c[Device Manager] %cSetting status classes","color:#35ffb8","color:#eee"),this._body.addEventListener("mouseover",this.handleMouseEvent),this._body.addEventListener("touchstart",this.handleTouchEvent),DeviceManager.supportsTouch&&(this._html.classList.add("is-touch-device"),this._html.classList.remove("is-not-touch-device"),this._isDebug&&console.log("%c[Device Manager] %cSupports Touch: %c"+DeviceManager.supportsTouch,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isBlinkEngine&&(this._html.classList.add("is-blink"),this._isDebug&&console.log("%c[Device Manager] %cUsing Blink Engine: %c"+DeviceManager.isBlinkEngine,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isChrome&&(this._html.classList.add("is-chrome"),this._isDebug&&console.log("%c[Device Manager] %cChrome: %c"+DeviceManager.isChrome,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isIE&&(this._html.classList.add("is-ie"),this._isDebug&&console.log("%c[Device Manager] %cInternet Explorer: %c"+DeviceManager.isIE,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isEdge&&(this._html.classList.add("is-edge"),this._isDebug&&console.log("%c[Device Manager] %cEdge: %c"+DeviceManager.isEdge,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isFirefox&&(this._html.classList.add("is-firefox"),this._isDebug&&console.log("%c[Device Manager] %cFirefox: %c"+DeviceManager.isFirefox,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isSafari&&(this._html.classList.add("is-safari"),this._isDebug&&console.log("%c[Device Manager] %cSafari: %c"+DeviceManager.isSafari,"color:#35ffb8","color:#eee","color:#68e5ff")),DeviceManager.isOpera&&(this._html.classList.add("is-opera"),this._isDebug&&console.log("%c[Device Manager] %cOpera: %c"+DeviceManager.isOpera,"color:#35ffb8","color:#eee","color:#68e5ff")),void 0!==DeviceManager.connection&&(this._html.classList.add("is-"+DeviceManager.connection.effectiveType),this._isDebug&&console.log("%c[Device Manager] %cConnection Type: %c"+DeviceManager.connection.effectiveType,"color:#35ffb8","color:#eee","color:#68e5ff"))},DeviceManager.connection=void 0,DeviceManager.isChrome=(isChrome=!1,window.chrome&&void 0===window.StyleMedia&&(isChrome=!0),isChrome),DeviceManager.isEdge=(isEdge=!1,window.StyleMedia&&window.chrome&&(isEdge=!0),isEdge),DeviceManager.isIE=(isIE=!1,window.MSInputMethodContext&&document.documentMode&&void 0===window.chrome&&(isIE=!0),isIE),DeviceManager.isFirefox=(isFirefox=!1,"undefined"!=typeof InstallTrigger&&(isFirefox=!0),isFirefox),DeviceManager.isSafari=(isSafari=!1,(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString())&&(isSafari=!0),isSafari),DeviceManager.isOpera=(isOpera=!1,(window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0)&&(isOpera=!0),isOpera),DeviceManager.isBlinkEngine=(isBlink=!1,(DeviceManager.isChrome||DeviceManager.isOpera)&&window.CSS&&(isBlink=!0),isBlink),DeviceManager.supportsTouch=(isTouchSupported=!1,("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(isTouchSupported=!0),isTouchSupported),DeviceManager}();exports.default=DeviceManager}]]);